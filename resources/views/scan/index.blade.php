@extends('layouts.app') @section('content') <div class='container'><h2>Scan QR</h2><div id='reader' style='width:500px'></div><div id='scanResult'></div><script src='https://unpkg.com/html5-qrcode'></script><script>function onScanSuccess(decodedText, decodedResult){ fetch('/scan',{ method:'POST', headers:{'Content-Type':'application/json','X-CSRF-TOKEN':'{{ csrf_token() }}'}, body: JSON.stringify({ student_id: decodedText }) }).then(r=>r.json()).then(j=>{ document.getElementById('scanResult').innerText = j.message; }).catch(e=>{ document.getElementById('scanResult').innerText='Error: '+e; }); } var html5QrcodeScanner = new Html5QrcodeScanner('reader',{ fps:10, qrbox:250 }); html5QrcodeScanner.render(onScanSuccess);</script></div> @endsection